!function(){"use strict";var e=[{songName:"Moonlight Sonata",artist:"Paul Pitman",img:"music-1",src:"music-1"},{songName:"Nocturne in B flat minor",artist:"Eduardo Vinuela",img:"music-2",src:"music-2"},{songName:"Cello Suite no. 1",artist:"Accou",img:"music-3",src:"music-3"},{songName:"Sonata 5 (II) Allegro",artist:"Telemann Trio",img:"music-4",src:"music-4"},{songName:"Etude Op. 25 no. 1",artist:"Donald Betts",img:"music-5",src:"music-5"},{songName:"Greensleeves to a Ground",artist:"Ariel Martin Bellio",img:"music-6",src:"music-6"},{songName:"Twelve Spanish Dances, Op. 37",artist:"Monica Alianello",img:"music-7",src:"music-7"}];setTimeout((function(){document.querySelector("body").classList.add("body_visible")}),0),function(){const e=document.querySelector(".light-mode-btn"),t=document.querySelector(".main");function r(){e.classList.add("light-mode-btn--active"),t.classList.add("light")}function a(){e.classList.remove("light-mode-btn--active"),t.classList.remove("light")}window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&r(),"dark"===localStorage.getItem("darkMode")?a():"light"===localStorage.getItem("darkMode")&&r(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{"dark"==(e.matches?"dark":"light")?(a(),localStorage.setItem("darkMode","dark")):(r(),localStorage.setItem("darkMode","light"))})),e.addEventListener("click",(()=>{e.classList.toggle("light-mode-btn--active"),t.classList.toggle("light")?localStorage.setItem("darkMode","light"):localStorage.setItem("darkMode","dark")}))}(),function(){const t=document.querySelector(".audio-player__wrapper"),r=document.querySelector("#audio-player"),a=r.querySelector(".audio-player__img-area"),i=r.querySelector(".audio-player__song-details .audio-player__song-name"),o=r.querySelector(".audio-player__song-details .audio-player__artist"),s=r.querySelector("#main-audio"),n=r.querySelector(".play-pause"),l=r.querySelector("#prev"),c=r.querySelector("#next"),d=r.querySelector(".audio-control__progress-bar"),u=r.querySelector(".audio-control__progress-area"),m=r.querySelector("#repeat-plist"),g=r.querySelector(".music-list"),p=r.querySelector("#more-music"),y=r.querySelector("#close"),h=r.querySelector("ul"),_=r.querySelector(".volume__button"),S=r.querySelector(".volume__slider");let f=1;function v(r){i.innerText=e[r-1].songName,o.innerText=e[r-1].artist;const n=new Image;n.src=`./img/jpg/${e[r-1].img}.jpg`,n.addEventListener("load",(()=>{t.style.backgroundImage=`url(${n.src})`,a.style.backgroundImage=`url(${n.src})`})),s.src=`./files/songs/${e[r-1].src}.mp3`}function q(){r.classList.add("paused"),n.querySelector("i").innerText="pause",s.play()}function L(){h.querySelectorAll("li").forEach((e=>{let t=e.querySelector(".audio-duration");if(e.classList.contains("playing")){e.classList.remove("playing");let r=t.getAttribute("t-duration");t.innerText=r,e.querySelector(".music-list__play-pause i").innerText="play_arrow"}e.getAttribute("li-index")==f&&r.classList.contains("paused")&&(e.classList.add("playing"),t.innerText="Playing",e.querySelector(".music-list__play-pause i").innerText="pause")}))}function k(){f++,f=f>e.length?1:f,v(f),q(),L()}e.forEach(((e,t)=>{let r=`\n      <li li-index="${t+1}">\n        <div class="music-list__play-pause">\n          <i class="material-icons">play_arrow</i>\n        </div>\n        <div class="music-list__row music-list__info">\n          <span>${e.songName}</span>\n          <p>${e.artist}</p>\n        </div>\n        <span id="${e.src}" class="audio-duration">3:40</span>\n        <audio class="${e.src}" src ="./files/songs/${e.src}.mp3"><audio>\n      </li>`;h.insertAdjacentHTML("beforeend",r);let a=h.querySelector(`#${e.src}`),i=h.querySelector(`.${e.src}`);i.addEventListener("loadeddata",(()=>{let e=i.duration,t=Math.floor(e/60),r=Math.floor(e%60);r<10&&(r=`0${r}`),a.innerText=`${t}:${r}`,a.setAttribute("t-duration",`${t}:${r}`)}))})),window.addEventListener("load",(()=>{v(f),L()})),n.addEventListener("click",(()=>{r.classList.contains("paused")?(r.classList.remove("paused"),n.querySelector("i").innerText="play_arrow",s.pause()):q(),L()})),c.addEventListener("click",(()=>{k()})),l.addEventListener("click",(()=>{f--,f=f<1?e.length:f,v(f),q(),L()})),s.addEventListener("timeupdate",(e=>{const t=e.target.currentTime;let a=t/e.target.duration*100;d.style.width=`${a}%`;let i=r.querySelector(".audio-control__current"),o=r.querySelector(".audio-control__duration");s.addEventListener("loadeddata",(()=>{let e=s.duration,t=Math.floor(e/60),r=Math.floor(e%60);r<10&&(r=`0${r}`),o.innerText=`${t}:${r}`}));let n=Math.floor(t/60),l=Math.floor(t%60);l<10&&(l=`0${l}`),i.innerText=`${n}:${l}`})),u.addEventListener("click",(e=>{let t=u.clientWidth,r=e.offsetX,a=s.duration;s.currentTime=r/t*a,q()})),_.addEventListener("click",(()=>{const e=r.querySelector(".volume__container i");s.muted=!s.muted,s.muted?e.innerText="volume_off":e.innerText="volume_up"})),S.addEventListener("click",(e=>{const t=window.getComputedStyle(S).width,a=e.offsetX/parseInt(t);s.volume=a,r.querySelector(".volume__percentage").style.width=100*a+"%"}),!1),m.addEventListener("click",(()=>{switch(m.innerText){case"repeat":m.innerText="repeat_one",m.setAttribute("title","Song looped");break;case"repeat_one":m.innerText="shuffle",m.setAttribute("title","Playback shuffle");break;case"shuffle":m.innerText="repeat",m.setAttribute("title","Playlist looped")}})),s.addEventListener("ended",(()=>{switch(m.innerText){case"repeat":k();break;case"repeat_one":s.currentTime=0,v(f),q();break;case"shuffle":let t=Math.floor(Math.random()*e.length+1);do{t=Math.floor(Math.random()*e.length+1)}while(f==t);f=t,v(f),q(),L()}})),p.addEventListener("click",(()=>{g.classList.toggle("show")})),y.addEventListener("click",(()=>{p.click()}))}()}();
!function(){"use strict";const e={"page-main":{ru:"Название проекта",en:"Name project"},"about-project":{ru:"О проекте",en:"About the project"},"project-title":{ru:"Название проекта",en:"Name project"},"project-desc":{ru:"Описание проекта.",en:"Project description."},progect:{ru:"Проект",en:"Project"},mini:{ru:"мини",en:"mini"},portfolio:{ru:"Портфолио",en:"Portfolio"},skills:{ru:"Навыки",en:"Skills"},contacts:{ru:"Контакты",en:"Contacts"},copy:{ru:"Алексеева Татьяна",en:"Alekseeva Tatyana"}};var t=[{songName:"Moonlight Sonata",artist:"Paul Pitman",img:"music-1",src:"music-1"},{songName:"Nocturne in B flat minor",artist:"Eduardo Vinuela",img:"music-2",src:"music-2"},{songName:"Cello Suite no. 1",artist:"Accou",img:"music-3",src:"music-3"},{songName:"Sonata 5 (II) Allegro",artist:"Telemann Trio",img:"music-4",src:"music-4"},{songName:"Etude Op. 25 no. 1",artist:"Donald Betts",img:"music-5",src:"music-5"},{songName:"Greensleeves to a Ground",artist:"Ariel Martin Bellio",img:"music-6",src:"music-6"},{songName:"Twelve Spanish Dances, Op. 37",artist:"Monica Alianello",img:"music-7",src:"music-7"}];setTimeout((function(){document.querySelector("body").classList.add("body_visible")}),0),function(){const e=document.querySelector(".light-mode-btn"),t=document.querySelector(".main");function r(){e.classList.add("light-mode-btn--active"),t.classList.add("light")}function a(){e.classList.remove("light-mode-btn--active"),t.classList.remove("light")}window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&r(),"dark"===localStorage.getItem("darkMode")?a():"light"===localStorage.getItem("darkMode")&&r(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{"dark"==(e.matches?"dark":"light")?(a(),localStorage.setItem("darkMode","dark")):(r(),localStorage.setItem("darkMode","light"))})),e.addEventListener("click",(()=>{e.classList.toggle("light-mode-btn--active"),t.classList.toggle("light")?localStorage.setItem("darkMode","light"):localStorage.setItem("darkMode","dark")}))}(),function(t){let r="ru";const a=["en","ru"],i=e,n=document.querySelector(".lang-btn"),o=document.querySelector("title");!function(){let e=window.location.hash;e=e.substr(1),a.includes(e)||(location.href=`${window.location.pathname}#ru`,location.reload()),"en"===e?n.classList.add("lang-btn--active"):n.classList.remove("lang-btn--active"),o.innerHTML=i[t][e];for(let t in i)document.querySelectorAll(`.lng-${t}`).forEach((r=>{r&&(r.innerHTML=i[t][e])}))}(),n.addEventListener("click",(function(){n.classList.contains("lang-btn--active")?(n.classList.remove("lang-btn--active"),r="ru"):(n.classList.add("lang-btn--active"),r="en"),location.href=`${window.location.pathname}#${r}`,location.reload()}))}("page-main"),function(){const e=document.querySelector(".audio-player__wrapper"),r=document.querySelector("#audio-player"),a=r.querySelector(".audio-player__img-area"),i=r.querySelector(".audio-player__song-details .audio-player__song-name"),n=r.querySelector(".audio-player__song-details .audio-player__artist"),o=r.querySelector("#main-audio"),s=r.querySelector(".play-pause"),l=r.querySelector("#prev"),c=r.querySelector("#next"),u=r.querySelector(".audio-control__progress-bar"),d=r.querySelector(".audio-control__progress-area"),m=r.querySelector("#repeat-plist"),g=r.querySelector(".music-list"),p=r.querySelector("#more-music"),y=r.querySelector("#close"),h=r.querySelector("ul");let f=1;function v(r){i.innerText=t[r-1].songName,n.innerText=t[r-1].artist;const s=new Image;s.src=`./img/jpg/${t[r-1].img}.jpg`,s.addEventListener("load",(()=>{e.style.backgroundImage=`url(${s.src})`,a.style.backgroundImage=`url(${s.src})`})),o.src=`./files/songs/${t[r-1].src}.mp3`}function S(){r.classList.add("paused"),s.querySelector("i").innerText="pause",o.play()}function _(){h.querySelectorAll("li").forEach((e=>{let t=e.querySelector(".audio-duration");if(e.classList.contains("playing")){e.classList.remove("playing");let r=t.getAttribute("t-duration");t.innerText=r,e.querySelector(".music-list__play-pause i").innerText="play_arrow"}e.getAttribute("li-index")==f&&r.classList.contains("paused")&&(e.classList.add("playing"),t.innerText="Playing",e.querySelector(".music-list__play-pause i").innerText="pause")}))}function L(){f++,f>t.length&&(f=1),v(f),S(),_()}t.forEach(((e,t)=>{let r=`\n      <li li-index="${t+1}">\n        <div class="music-list__play-pause">\n          <i class="material-icons">play_arrow</i>\n        </div>\n        <div class="music-list__row music-list__info">\n          <span>${e.songName}</span>\n          <p>${e.artist}</p>\n        </div>\n        <span id="${e.src}" class="audio-duration">3:40</span>\n        <audio class="${e.src}" src ="./files/songs/${e.src}.mp3"><audio>\n      </li>`;h.insertAdjacentHTML("beforeend",r);let a=h.querySelector(`#${e.src}`),i=h.querySelector(`.${e.src}`);i.addEventListener("loadeddata",(()=>{let e=i.duration,t=Math.floor(e/60),r=Math.floor(e%60);r<10&&(r=`0${r}`),a.innerText=`${t}:${r}`,a.setAttribute("t-duration",`${t}:${r}`)}))})),window.addEventListener("load",(()=>{v(f),_()})),s.addEventListener("click",(()=>{r.classList.contains("paused")?(r.classList.remove("paused"),s.querySelector("i").innerText="play_arrow",o.pause()):S(),_()})),c.addEventListener("click",(()=>{L()})),l.addEventListener("click",(()=>{f--,f<1&&(f=t.length),v(f),S(),_()})),o.addEventListener("timeupdate",(e=>{const t=e.target.currentTime;let a=t/e.target.duration*100;u.style.width=`${a}%`;let i=r.querySelector(".audio-control__current"),n=r.querySelector(".audio-control__duration");o.addEventListener("loadeddata",(()=>{let e=o.duration,t=Math.floor(e/60),r=Math.floor(e%60);r<10&&(r=`0${r}`),n.innerText=`${t}:${r}`}));let s=Math.floor(t/60),l=Math.floor(t%60);l<10&&(l=`0${l}`),i.innerText=`${s}:${l}`})),d.addEventListener("click",(e=>{let t=d.clientWidth,r=e.offsetX,a=o.duration;o.currentTime=r/t*a,S()})),r.querySelector(".volume__button").addEventListener("click",(()=>{const e=r.querySelector(".volume__container i");o.muted=!o.muted,o.muted?e.innerText="volume_off":e.innerText="volume_up"}));const q=r.querySelector(".volume__slider");q.addEventListener("click",(e=>{const t=window.getComputedStyle(q).width,a=e.offsetX/parseInt(t);o.volume=a,r.querySelector(".volume__percentage").style.width=100*a+"%"}),!1),m.addEventListener("click",(()=>{switch(m.innerText){case"repeat":m.innerText="repeat_one",m.setAttribute("title","Song looped");break;case"repeat_one":m.innerText="shuffle",m.setAttribute("title","Playback shuffle");break;case"shuffle":m.innerText="repeat",m.setAttribute("title","Playlist looped")}})),o.addEventListener("ended",(()=>{switch(m.innerText){case"repeat":L();break;case"repeat_one":o.currentTime=0,v(f),S();break;case"shuffle":let e=Math.floor(Math.random()*t.length+1);do{e=Math.floor(Math.random()*t.length+1)}while(f==e);f=e,v(f),S(),_()}})),p.addEventListener("click",(()=>{g.classList.toggle("show")})),y.addEventListener("click",(()=>{p.click()}))}()}();